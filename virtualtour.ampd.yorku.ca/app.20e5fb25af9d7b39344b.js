(self.webpackChunkcircuit_react=self.webpackChunkcircuit_react||[]).push([[143],{57620:(W,l,e)=>{"use strict";e.d(l,{Z:()=>U});var t=e(86706),c=e(97779),s=e(96996),n=e(67294),a=e(97555),d=e(14309);class A extends n.Component{createTheme(){const{color:P}=this.props;return(0,d.Z)({palette:{primary:{main:P,contrastText:"#525252"},secondary:{main:"#FFFFFF",light:"#FFFFFF",dark:"#FFFFFF",contrastText:"#525252"},text:{secondary:"#FFFFFF"}},breakpoints:{values:{xs:0,sm:641,md:801,lg:1280,xl:1920}},typography:{fontFamily:["Muli","sans-serif"].join(","),useNextVariants:!0},props:{MuiIconButton:{disableRipple:!0},MuiMenuItem:{disableRipple:!0}},overrides:{MuiButtonBase:{root:{"&$focusVisible":{boxShadow:"none"}}},MuiTouchRipple:{child:{backgroundColor:"#CCC"}},MuiTooltip:{popper:{opacity:1}},MuiTypography:{subtitle1:{color:"inherit",fontWeight:"inherit",textTransform:"capitalize"},body1:{fontFamily:"Muli, sans-serif"}},MuiInputLabel:{root:{color:"#515252"}},MuiPickersToolbarText:{toolbarTxt:{color:"#fafafa"},toolbarBtnSelected:{color:"#fff"}},MuiPickersBasePicker:{pickerView:{maxWidth:"500px"}},MuiPickersDay:{daySelected:{color:"#fff"}},MuiPickersMonthSelection:{container:{width:"auto"}},MuiFormHelperText:{root:{color:"#515252"}},MuiImageListItem:{item:{overflow:"unset"}},MuiAutocomplete:{option:{paddingLeft:"0.75rem !important"}}}})}render(){const{children:P}=this.props,O=this.createTheme();return n.createElement(a.Z,{theme:O},P)}}const E=h=>(0,c.DE)({},h),f=h=>({color:(0,s.brandSelector)(h)?(0,s.brandSelector)(h).color:"#000000"}),U=(0,t.$j)(f,E)(A)},97279:(W,l,e)=>{"use strict";e.d(l,{m:()=>s});var t=e(67294),c=e(21318);class s extends t.Component{componentDidCatch(a){c.Tb(a)}render(){const{error:a}=this.props;return a===null?null:t.createElement("div",{className:"error"},t.createElement("h1",null,a.title),a.explanation&&t.createElement("p",null,a.explanation),t.createElement("p",{className:"error__message"},a.status&&t.createElement("span",null,a.status," - "),a.message&&t.createElement("span",null,a.message)),a.linkMessage&&a.link&&t.createElement("p",null,a.linkMessage," ",t.createElement("a",{href:a.link},a.linkText?a.linkText:"link")))}}},50886:(W,l,e)=>{"use strict";e.d(l,{kT:()=>s,pC:()=>t,vQ:()=>c});const t=(n,a,d)=>{let A;if(d){const E=new Date;E.setTime(E.getTime()+d*24*60*60*1e3),A=`; expires=${E.toUTCString()}`}else A="";document.cookie=`${n}=${a}${A}; path=/`},c=n=>{const a=`${n}=`,d=document.cookie.split(";");for(let A=0;A<d.length;A++){let E=d[A];for(;E.charAt(0)===" ";)E=E.substring(1,E.length);if(E.indexOf(a)===0)return E.substring(a.length,E.length)}return null},s=n=>{document.cookie=`${n}=; expires=Thu, 01 Jan 1970 00:00:00 GMT; path=/;`}},66730:()=>{},2612:(W,l,e)=>{"use strict";e.d(l,{u:()=>t});var t=(c=>(c[c.UNVISITED=0]="UNVISITED",c[c.VISITING=1]="VISITING",c[c.VISITED=2]="VISITED",c))(t||{})},78023:(W,l,e)=>{"use strict";e.d(l,{jj:()=>s.Error,OP:()=>c,uj:()=>t.u});var t=e(2612),c=(n=>(n[n.None=0]="None",n[n.CurrentTour=1]="CurrentTour",n[n.Explore=2]="Explore",n[n.All=4]="All",n[n.CurrentTourAndExplore=3]="CurrentTourAndExplore",n[n.CurrentTourAndAll=3]="CurrentTourAndAll",n[n.ExploreAndAll=6]="ExploreAndAll",n[n.IncludeAllMenus=7]="IncludeAllMenus",n))(c||{}),s=e(66730)},29791:(W,l,e)=>{"use strict";e.d(l,{c:()=>s,D:()=>n});var t=e(67294);const s=()=>{const[a,d]=(0,t.useState)(document.activeElement),A=E=>{d(document.activeElement)};return(0,t.useEffect)(()=>(document.addEventListener("focusin",A),()=>{document.removeEventListener("focusin",A)}),[]),a};function n(a){const d=(0,t.useRef)();return(0,t.useEffect)(()=>{d.current=a}),d.current}},92689:(W,l,e)=>{"use strict";var t=e(67294),c=e(73935),s=e(76595),n=e(86706),a=e(19483),d=e(53610),A=e(79655),E=e(27374),f=e(30155),U=e(97779),h=e(10493),P=e(87020),O=e(56878),L=e(96996),i=e(21318),T=e(89250),$=e(3994),D=e.n($);/*! npm.im/supports-webp 2.0.1 */const V=new Promise(b=>{const te=new Image;te.onerror=()=>b(!1),te.onload=()=>b(te.width===1),te.src="data:image/webp;base64,UklGRiQAAABXRUJQVlA4IBgAAAAwAQCdASoBAAEAAwA0JaQAA3AA/vuUAAA="}).catch(()=>!1);var R=e(15575),C=e(2876),w=e(49089),Z=e(29791),X=e(57620),se=e(97279),Q=e(78023);const q=(0,t.lazy)(()=>Promise.all([e.e(532),e.e(703),e.e(53),e.e(116),e.e(813),e.e(566),e.e(848),e.e(665)]).then(e.bind(e,16665))),ne=(0,t.lazy)(()=>Promise.all([e.e(532),e.e(703),e.e(53),e.e(116),e.e(813),e.e(7),e.e(336),e.e(566),e.e(715),e.e(812),e.e(848),e.e(592),e.e(130)]).then(e.bind(e,90792))),ee=(0,t.lazy)(()=>Promise.all([e.e(532),e.e(703),e.e(53),e.e(116),e.e(813),e.e(7),e.e(336),e.e(566),e.e(715),e.e(812),e.e(848),e.e(592),e.e(182)]).then(e.bind(e,91592))),F=(0,t.lazy)(()=>Promise.all([e.e(532),e.e(703),e.e(53),e.e(116),e.e(813),e.e(7),e.e(336),e.e(158),e.e(643),e.e(848),e.e(305),e.e(388)]).then(e.bind(e,95305))),{trackPageview:M}=(0,C.Z)({apiHost:"https://p.circuitcdn.com",domain:`${window.location.hostname},all.circuit`}),S=({setError:b,setSupportsWebP:te,updateSiteNameAndLngAndVersionHash:de,error:me,brand:Le})=>{const[Me,Ne]=(0,t.useState)(Math.max(document.documentElement.clientHeight,window.innerHeight||0)),[ve,Ue]=(0,t.useState)(!1),fe=(0,T.TH)(),Se=(0,t.useRef)(!1),ye=(0,t.useRef)([]),Ie=(0,Z.D)(fe),De=(0,Z.D)(Le),Re=()=>Math.max(document.documentElement.clientHeight,window.innerHeight||0),Ge=(0,t.useCallback)(()=>{const Pe=navigator.userAgent;let m="",y=Pe.indexOf("Safari");const G=Pe.indexOf("Macintosh"),le=y!==-1&&G!==-1;let ie=m.indexOf(";");return le&&(m=Pe.substring(y+7),Pe.indexOf("Version")!==-1&&(y=Pe.indexOf("Version"),m=Pe.substring(y+8))),ie!==-1&&(m=m.substring(0,ie)),m.indexOf(" ")!==-1&&(ie=m.indexOf(" "),m=m.substring(0,ie)),le&&m==="15.0"},[]);(0,t.useEffect)(()=>{Se.current=!0,window.addEventListener("resize",()=>{if(Se.current){const m=document.getElementById("height-adjust");m.style.height=`${Re()}px`}}),D()()||b({title:"WebGL could't be found",explanation:"You may be able to view the experience with a different browser, or you may have hardware limitations."}),Ge()&&b({title:"Unsupported browser",explanation:"Please upgrade to the latest version of Safari, or try a different web browser."}),V.then(m=>{te(m)}),(0,E.HE)(window.location.hostname).then(m=>{de(m),Ue(!0)}).catch(m=>{throw Ue(!0),new Q.jj("sitename ERROR!")})},[]),(0,t.useEffect)(()=>{!De&&Le&&Le.client_google_analytics&&(ye.current=["clientTracker"])},[Le]),(0,t.useEffect)(()=>{Ie&&Ie!==fe&&!fe.state&&setTimeout(()=>{R.ZP.pageview(fe.pathname,ye.current),w.ZP.send({hitType:"pageview",page:fe.pathname}),M()},1e3)},[fe]);const o=(0,t.useMemo)(()=>D()(),[]);return ve&&t.createElement(X.Z,null,t.createElement("div",{style:{height:Me},id:"height-adjust"},(()=>o&&me==null?t.createElement("div",{className:"body"},t.createElement(t.Suspense,{fallback:t.createElement("div",{className:"circuit-loader"},t.createElement("div",{className:"circuit-loader__one"}),t.createElement("div",{className:"circuit-loader__two"}))},t.createElement(T.Z5,null,t.createElement(T.AW,{path:"/",element:t.createElement(q,null)}),t.createElement(T.AW,{path:"/:siteName",element:t.createElement(q,null)}),t.createElement(T.AW,{path:"/:siteName/home",element:t.createElement(q,null)}),t.createElement(T.AW,{path:"/:siteName/home/:groupOneName",element:t.createElement(q,null)}),t.createElement(T.AW,{path:"/:siteName/home/:groupOneName/:tourName",element:t.createElement(q,null)}),t.createElement(T.AW,{path:"/:siteName/home/:groupOneName/:groupTwoName/",element:t.createElement(q,null)}),t.createElement(T.AW,{path:"/:siteName/home/:groupOneName/:groupTwoName/:tourName",element:t.createElement(q,null)}),t.createElement(T.AW,{path:"/:siteName/home/:groupOneName/:groupTwoName/:groupThreeName",element:t.createElement(q,null)}),t.createElement(T.AW,{path:"/:siteName/home/:groupOneName/:groupTwoName/:groupThreeName/:tourName",element:t.createElement(q,null)}),t.createElement(T.AW,{path:"/:siteName/map/:tabName/*",element:t.createElement(F,null)}),t.createElement(T.AW,{path:"/:siteName/map",element:t.createElement(F,null)}),t.createElement(T.AW,{path:"/:siteName/scene/:sceneSlug",element:t.createElement(ne,null)}),t.createElement(T.AW,{path:"/:siteName/scene/:sceneSlug/:hotspot",element:t.createElement(ne,null)}),t.createElement(T.AW,{path:"/:siteName/:tourSlug",element:t.createElement(ee,null)}),t.createElement(T.AW,{path:"/:siteName/:tourSlug/:sceneSlug/",element:t.createElement(ee,null)}),t.createElement(T.AW,{path:"/:siteName/:tourSlug/:sceneSlug/:hotspot",element:t.createElement(ee,null)})))):(i.Tb(me),t.createElement(se.m,{error:me})))()))},{setError:I}=h.errorActions,{setSupportsWebP:u}=P.supportsWebPActions,{updateSiteNameAndLngAndVersionHash:r}=O.tenantActions,p=b=>(0,U.DE)({setError:I,setSupportsWebP:u,updateSiteNameAndLngAndVersionHash:r},b),g=b=>({error:b.error,tenant:b.tenant,brand:(0,L.brandSelector)(b)}),N=(0,n.$j)(g,p)(S);window.Promise||(window.Promise=s.Z),(0,E.HE)(window.location.hostname).then(b=>{if(b){const{schema_name:te}=b;a.S({dsn:"https://799a6f7e9c35475b8fbd076baec7e616@sentry.io/1423532",environment:"production",initialScope:{tags:{tenant:te||"no tenant"}},integrations:[new d.I],release:`circuit-production@${{NODE_ENV:"production"}.BITBUCKET_BUILD_NUMBER}`})}}),window.release=`Release circuit-production@${{NODE_ENV:"production"}.BITBUCKET_BUILD_NUMBER}`;const H=window.___INITIAL_STATE__,J=(0,f.MT)(H),K=document.getElementById("root");(b=>{c.render(t.createElement(n.zt,{store:J},t.createElement(A.VK,null,t.createElement(b,null))),K)})(N)},17387:(W,l,e)=>{"use strict";e.d(l,{Nw:()=>n,TI:()=>c,oe:()=>s});var t=e(90291);const c="GET_BRANDING",s="GET_BRANDING_FULFILLED",n={getBranding:()=>(0,t.P)(c),getBrandingFulfilled:a=>(0,t.P)(s,a)}},5837:(W,l,e)=>{"use strict";e.r(l),e.d(l,{CtaActions:()=>t.Actions,ctaActions:()=>a,ctaReducer:()=>E});var t={};e.r(t),e.d(t,{v:()=>n,N:()=>a});var c=e(18172),s=e(90291);const n="UPDATE_CTA_MENU_OPEN_STATE",a={updateCtaMenuOpenState:f=>(0,s.P)(n,f)},d={isCtaOpened:!1},E=(f=d,U)=>(0,c.ZP)(f,h=>{switch(U.type){case n:h.isCtaOpened=U.payload;break;default:break}})},16621:(W,l,e)=>{"use strict";e.r(l),e.d(l,{CtasViewedActions:()=>t.Actions,ctasViewedActions:()=>a,ctasViewedReducer:()=>E});var t={};e.r(t),e.d(t,{Z:()=>n,N:()=>a});var c=e(18172),s=e(90291);const n="CTA_VIEWED",a={setCtaViewed:f=>(0,s.P)(n,f)},d=!1,E=(f=[],U)=>(0,c.ZP)(f,h=>{switch(U.type){case n:h.push(U.payload);break;default:break}})},49197:(W,l,e)=>{"use strict";e.r(l),e.d(l,{DetailsMenuActions:()=>t.Actions,detailsMenuActions:()=>n,detailsMenuReducer:()=>d});var t={};e.r(t),e.d(t,{i:()=>s,N:()=>n});var c=e(90291);const s="SET_DETAILS_MENU_TOUR",n={setDetailsMenuTour:A=>(0,c.P)(s,A)},d=(A=null,E)=>{switch(E.type){case s:return E.payload;default:return A}}},83908:(W,l,e)=>{"use strict";e.d(l,{lJ:()=>a,Ox:()=>E});var t=e(18172),c=e(90291);const s="TOGGLE_DEVICE_MOTION",n="CLOSE_GUIDE_CARD",a={toggleDeviceMotion:()=>(0,c.P)(s)},d={isDeviceMotionOn:!1},E=(f=d,U)=>(0,t.ZP)(f,h=>{switch(U.type){case s:h.isDeviceMotionOn=!f.isDeviceMotionOn;break;default:break}})},57295:(W,l,e)=>{"use strict";e.d(l,{G:()=>c,N:()=>s});var t=e(90291);const c="SET_ERROR",s={setError:n=>(0,t.P)(c,n)}},10493:(W,l,e)=>{"use strict";e.r(l),e.d(l,{ErrorActions:()=>t.Actions,errorActions:()=>t.N,errorReducer:()=>s});var t=e(57295);const s=(n=null,a)=>{switch(a.type){case t.G:return a.payload;default:return n}}},87477:(W,l,e)=>{"use strict";e.r(l),e.d(l,{FinishedTourActions:()=>t.Actions,finishedTourActions:()=>E,finishedTourReducer:()=>P});var t={};e.r(t),e.d(t,{po:()=>A,tx:()=>d,zY:()=>a,Nw:()=>E});var c=e(18172),s=e(97779),n=e(90291);const a="SET_TOUR_PROGRESSION_MODE",d="SET_FINISHED_TOUR_OPEN_STATE",A="SET_FINISHED_TOUR_DISMISSED_STATE",E={setFinishedTourOpenState:O=>(0,n.P)(d,O),setTourProgressionMode:O=>(0,n.P)(a,O),setFinishedTourDismissedState:O=>(0,n.P)(A,O)},f=(O=!1,L)=>{switch(L.type){case d:return L.payload;default:return O}},U=(O=!1,L)=>{switch(L.type){case A:return L.payload;default:return O}},h=(O="sequential",L)=>(0,c.ZP)(O,i=>{switch(L.type){case a:return i=L.payload,i;default:return O}}),P=(0,s.UY)({isFinishedTourShow:f,tourProgressionMode:h,hasFinishedTourBeenDismissed:U})},64864:(W,l,e)=>{"use strict";e.d(l,{LW:()=>A,Jn:()=>U});var t=e(18172),c=e(90291);const s="TOGGLE_GUIDE_AUDIO",n="UPDATE_AUDIO_FINISHED_STATUS",a="UPDATE_AUDIO_OVERLAY_STATUS_IN_TOUR_LEVEL",d="UPDATE_PREFERRED_AUDIO_STATUS",A={toggleGuideAudio:()=>(0,c.P)(s),updateAudioFinishedStatus:h=>(0,c.P)(n,h),updatePreferredAudioStatus:h=>(0,c.P)(d,h)},E={isGuideAudioOn:!1,isAudioFinished:!1,preferredAudioStatus:"off"},U=(h=E,P)=>(0,t.ZP)(h,O=>{switch(P.type){case s:O.isGuideAudioOn=!h.isGuideAudioOn;break;case n:O.isAudioFinished=P.payload;break;case d:O.preferredAudioStatus=P.payload;break;default:break}})},32458:(W,l,e)=>{"use strict";e.r(l),e.d(l,{GuideCardActions:()=>t.Actions,guideCardActions:()=>d,guideCardReducer:()=>f});var t={};e.r(t),e.d(t,{yP:()=>a,Cf:()=>n,Nw:()=>d});var c=e(18172),s=e(90291);const n="OPEN_GUIDE_CARD",a="CLOSE_GUIDE_CARD",d={openGuideCard:()=>(0,s.P)(n),closeGuideCard:()=>(0,s.P)(a)},A={isOpen:!0},f=(U=A,h)=>(0,c.ZP)(U,P=>{switch(h.type){case n:P.isOpen=!0;break;case a:P.isOpen=!1;break;default:break}})},29309:(W,l,e)=>{"use strict";e.r(l),e.d(l,{HomepageActions:()=>t.Actions,homepageActions:()=>f,homepageEpics:()=>R,homepageReducer:()=>P});var t={};e.r(t),e.d(t,{sY:()=>n,$W:()=>a,q3:()=>d,w1:()=>A,zZ:()=>E,Nw:()=>f});var c=e(18172),s=e(90291);const n="ACTIVE_HOMEPAGE_VIDEO",a="GET_TOUR_HOME_PAGE_DATA",d="GET_TOUR_HOME_PAGE_DATA_FULFILLED",A="UPDATE_HOMEPAGE_ANIMATION_STATUS",E="UPDATE_PAUSE_VIDEO",f={updatePauseVideo:C=>(0,s.P)(E,C),updateActiveHomepageVideo:C=>(0,s.P)(n,C),getTourHomepageData:()=>(0,s.P)(a),getTourHomepageDataFulfilled:C=>(0,s.P)(d,C),updateHomepageAnimationStatus:C=>(0,s.P)(A,C)},U={pauseVideo:!1,activeHomepageVideo:{code:"",thumbnail:"",title:"",url:""},tourHomepage:{videos_text:"",videos:[{type:"",value:{video:{code:"",thumbnail:"",title:"",url:""}},id:""}],video_auto:!0},animationStatus:{shouldAnimationsStart:!1,cards:"",banner:"",sidebar:"",sidebarPageAnimationStatus:{}}},P=(C=U,w)=>(0,c.ZP)(C,Z=>{switch(w.type){case E:Z.pauseVideo=w.payload;break;case n:Z.activeHomepageVideo=w.payload;break;case d:const{videos_text:X,videos:se,video_auto:Q}=w.payload;Z.tourHomepage={videos_text:X,videos:se,video_auto:Q};break;case A:Z.animationStatus=w.payload;break;default:break}});var O=e(35309),L=e(57474),i=e(47746),T=e(55709),$=e(2909),D=e(7685),x=(C,w,Z)=>new Promise((X,se)=>{var Q=ee=>{try{ne(Z.next(ee))}catch(F){se(F)}},q=ee=>{try{ne(Z.throw(ee))}catch(F){se(F)}},ne=ee=>ee.done?X(ee.value):Promise.resolve(ee.value).then(Q,q);ne((Z=Z.apply(C,w)).next())});const V=(C,w)=>C.pipe((0,O.l)(a),(0,i.VS)(Z=>new Promise((X,se)=>x(void 0,null,function*(){const{site:Q,language:q,tenant:{version_hash:ne}}=w.value,ee=`${(0,D.Uk)(Q)}pages/`,F=yield $.Z.get(ee,{headers:{"accept-language":q.currentLanguage.language},params:{v:ne,fields:"*",type:"tour.TourHomePage",limit:100}}),{videos_text:M,videos:B,video_auto:S}=F.data.items[0];X({videos_text:M,videos:B,video_auto:S})}))),(0,T.U)(Z=>f.getTourHomepageDataFulfilled(Z))),R=(0,L.l)(V)},53838:(W,l,e)=>{"use strict";e.d(l,{DZ:()=>i,ED:()=>$,ND:()=>T,ZP:()=>L});var t=Object.defineProperty,c=Object.defineProperties,s=Object.getOwnPropertyDescriptors,n=Object.getOwnPropertySymbols,a=Object.prototype.hasOwnProperty,d=Object.prototype.propertyIsEnumerable,A=(D,x,V)=>x in D?t(D,x,{enumerable:!0,configurable:!0,writable:!0,value:V}):D[x]=V,E=(D,x)=>{for(var V in x||(x={}))a.call(x,V)&&A(D,V,x[V]);if(n)for(var V of n(x))d.call(x,V)&&A(D,V,x[V]);return D},f=(D,x)=>c(D,s(x));const U=[],h="ADD_HOTSPOTS",P="CLEAR",O={};function L(D=U,x){switch(x.type){case P:return U;case h:return[...D,...x.payload];default:return D}}function i(D,x){O[x]&&O[x].length>0&&O[x].forEach(V=>{V.id===D&&(V.isViewed=!0)})}function T(D){return x=>{const V=D.hotspots&&D.hotspots.filter(R=>!(R.x==="0.00"&&R.y==="0.00"&&R.z==="0.00")).map(R=>f(E({},R),{parent:D.id}));if(!O[D.id])O[D.id]=V;else{const R=[];O[D.id].forEach(C=>{C.isViewed===!0&&R.push(C.id)}),V.forEach(C=>{R.indexOf(C.id)>-1&&(C.isViewed=!0)})}return x({type:h,payload:V}),V}}function $(){return{type:P}}},73681:(W,l,e)=>{"use strict";e.d(l,{Nb:()=>E,Nw:()=>h,SS:()=>s,Sl:()=>d,Zl:()=>f,aw:()=>n,h$:()=>c,kO:()=>a,oz:()=>U,v6:()=>A});var t=e(90291);const c="LOAD_LABELS",s="SET_LABELS",n="SET_LABEL_ACTIVE_STATE",a="UPDATE_SELECTED_LABELS_LIST",d="UPDATE_SELECTED_LABELS_LIST_IN_CURRENT_TOUR",A="CLEAR_SELECTED_LABELS_LIST_IN_CURRENT_TOUR",E="SET_LABELS_PANEL_OPEN_STATE",f="SET_ALL_TAB_LABELS_PANEL_OPEN_STATE",U="SET_LABELS_PANEL_BUTTON_SHOW_STATE",h={loadLabels:()=>(0,t.P)(c),setLabels:P=>(0,t.P)(s,P),setLabelActiveState:P=>(0,t.P)(n,P),setLabelsPanelOpenState:P=>(0,t.P)(E,P),setAllTabLabelsPanelOpenState:P=>(0,t.P)(f,P),updateSelectedLabelsList:P=>(0,t.P)(a,P),updateSelectedLabelsListInCurrentTour:P=>(0,t.P)(d,P),clearSelectedLabelsListInCurrentTour:()=>(0,t.P)(A),setLabelsPanelButtonShowState:P=>(0,t.P)(U,P)}},73188:(W,l,e)=>{"use strict";e.r(l),e.d(l,{LabelActions:()=>s.Actions,labelActions:()=>s.Nw,labelEpic:()=>I,labelReducer:()=>V});var t=e(18172),c=e(97779),s=e(73681),n=Object.defineProperty,a=Object.defineProperties,d=Object.getOwnPropertyDescriptors,A=Object.getOwnPropertySymbols,E=Object.prototype.hasOwnProperty,f=Object.prototype.propertyIsEnumerable,U=(u,r,p)=>r in u?n(u,r,{enumerable:!0,configurable:!0,writable:!0,value:p}):u[r]=p,h=(u,r)=>{for(var p in r||(r={}))E.call(r,p)&&U(u,p,r[p]);if(A)for(var p of A(r))f.call(r,p)&&U(u,p,r[p]);return u},P=(u,r)=>a(u,d(r));const O={},L=(u=O,r)=>{switch(r.type){case s.SS:return r.payload;case s.aw:return(0,t.ZP)(u,p=>{const{labelId:g,selected:v}=r.payload,N=p[g],H=P(h({},N),{selected:v});p[g]=H});default:return u}},i=[],T=(u=i,r)=>{switch(r.type){case s.kO:return(0,t.ZP)(u,p=>{const g=r.payload;if(g&&g.selected)p.push(g);else{const v=p.findIndex(N=>N.id===g.id);p.splice(v,1)}});default:return u}},$=(u=i,r)=>{switch(r.type){case s.Sl:return(0,t.ZP)(u,p=>{const g=r.payload;if(g&&g.selected)p.push(g);else{const v=p.findIndex(N=>N.id===g.id);p.splice(v,1)}});case s.v6:return[];default:return u}},D={isLabelsPanelOpen:!1,isLabelsPanelButtonShow:!0,isAllTabLabelsPanelOpen:!1},x=(u=D,r)=>(0,t.ZP)(u,p=>{switch(r.type){case s.Nb:p.isLabelsPanelOpen=r.payload;break;case s.oz:p.isLabelsPanelButtonShow=r.payload;break;case s.Zl:p.isAllTabLabelsPanelOpen=r.payload;break;default:break}}),V=(0,c.UY)({Labels:L,selectedLabels:T,selectedLabelsInCurrentTour:$,labelsPanel:x});var R=e(35309),C=e(57474),w=e(47746),Z=e(55709),X=e(2909),se=e(7685),Q=Object.defineProperty,q=Object.getOwnPropertySymbols,ne=Object.prototype.hasOwnProperty,ee=Object.prototype.propertyIsEnumerable,F=(u,r,p)=>r in u?Q(u,r,{enumerable:!0,configurable:!0,writable:!0,value:p}):u[r]=p,M=(u,r)=>{for(var p in r||(r={}))ne.call(r,p)&&F(u,p,r[p]);if(q)for(var p of q(r))ee.call(r,p)&&F(u,p,r[p]);return u},B=(u,r,p)=>new Promise((g,v)=>{var N=K=>{try{J(p.next(K))}catch(k){v(k)}},H=K=>{try{J(p.throw(K))}catch(k){v(k)}},J=K=>K.done?g(K.value):Promise.resolve(K.value).then(N,H);J((p=p.apply(u,r)).next())});const S=(u,r)=>u.pipe((0,R.l)(s.h$),(0,w.VS)(p=>new Promise((g,v)=>B(void 0,null,function*(){const{language:N,site:H,tenant:{version_hash:J}}=r.value;try{const K=yield X.Z.get(`${(0,se.Uk)(H)}labels/`,{params:{v:J,format:"json"},headers:{"accept-language":N.currentLanguage.language}});g(K.data.items)}catch(K){v(K)}}))),(0,Z.U)(p=>p.map(v=>M({selected:!1},v)).reduce((v,N)=>(v[N.id]=N,N.children.map(H=>M({selected:!1,children:[],depth:0},H)).forEach(H=>{v[H.id]=H}),v),{})),(0,Z.U)(p=>s.Nw.setLabels(p))),I=(0,C.l)(S)},17359:(W,l,e)=>{"use strict";e.r(l),e.d(l,{LanguageActions:()=>t.Actions,languageActions:()=>h,languageEpic:()=>p,languageReducer:()=>i});var t={};e.r(t),e.d(t,{s3:()=>a,jF:()=>E,AF:()=>n,JV:()=>d,iw:()=>A,Xi:()=>f,Nw:()=>h});var c=e(97779),s=e(90291);const n="SET_LANGUAGE",a="CHANGE_LANGUAGE",d="SET_LANGUAGE_INTERNAL",A="SET_LANGUAGE_INTERNAL_FULFILLED",E="FETCH_TENANT_LANGUAGES",f="SET_TENANT_LANGUAGES",U="SET_LANGUAGE_DIRECTION",h={fetchTenantLanguages:()=>(0,s.P)(E),setTenantLanguages:g=>(0,s.P)(f,g),setLanguage:g=>(0,s.P)(n,g),changeLanguage:g=>(0,s.P)(a,g),setLanguageInternal:g=>(0,s.P)(d,g),setLanguageInternalFulfilled:()=>(0,s.P)(A),setLanguageDirection:g=>(0,s.P)(U,g)},P=(g={language:"en",name:"English",name_local:"English",bidi:!1},v)=>{switch(v.type){case d:return v.payload;default:return g}},O=(g=!1,v)=>{switch(v.type){case A:return!0;default:return g}},L=(g=[{language:"en",name:"English",name_local:"English",bidi:!1}],v)=>{switch(v.type){case f:return v.payload;default:return g}},i=(0,c.UY)({currentLanguage:P,isCurrentLanguageUpdated:O,languages:L});var T=e(35309),$=e(57474),D=e(47746),x=e(78001),V=e(65538),R=e(57357),C=e.n(R),w=e(68718),Z=e(2909),X=e(828),se=e(39476),Q=e(83335),q=e(17387),ne=e(73681),ee=e(29212),F=(g,v,N)=>new Promise((H,J)=>{var K=te=>{try{b(N.next(te))}catch(de){J(de)}},k=te=>{try{b(N.throw(te))}catch(de){J(de)}},b=te=>te.done?H(te.value):Promise.resolve(te.value).then(K,k);b((N=N.apply(g,v)).next())});const M=new(C()),B=(g,v)=>g.pipe((0,T.l)(n),(0,D.VS)(N=>new Promise((H,J)=>F(void 0,null,function*(){if(v.value.language.currentLanguage===N.payload){H(null);return}try{N.payload&&x.Z.changeLanguage(N.payload.language,()=>{H(N.payload)})}catch(b){J(b)}}))),(0,D.VS)(N=>N?[h.setLanguageInternal(N),h.setLanguageInternalFulfilled(),Q.Nw.getTourGroupPages(),q.Nw.getBranding(),ne.Nw.loadLabels(),ee.Nw.loadAllScenes()]:[])),S=(g,v)=>g.pipe((0,T.l)(a),(0,D.VS)(N=>new Promise((H,J)=>F(void 0,null,function*(){if(v.value.language.currentLanguage===N.payload){H(null);return}try{N.payload&&x.Z.changeLanguage(N.payload.language,()=>{H(N.payload)})}catch(b){J(b)}}))),(0,D.VS)(N=>{var H,J,K,k;const b=(K=(J=(H=v==null?void 0:v.value)==null?void 0:H.branding)==null?void 0:J.maps_settings)==null?void 0:K.places,te=(k=v==null?void 0:v.value)==null?void 0:k.map.isStandaloneMapMode,de=b&&te;let me=[h.setLanguageInternal(N),h.setLanguageInternalFulfilled(),Q.Nw.getTourGroupPages(),q.Nw.getBranding(),se.Nw.refreshTour(),ne.Nw.loadLabels(),ee.Nw.loadAllScenes()];return de&&(me=[...me,X.mapActions.clearPlacePagesInfo(),X.mapActions.clearPolygons()]),N?me:[]})),I=(g,v)=>g.pipe((0,T.l)(E),(0,D.VS)(()=>new Promise((N,H)=>F(void 0,null,function*(){const{site:J,tenant:{version_hash:K}}=v.value;try{const k=yield Z.Z.get(`https://${J}.madewithcircuit.com/api/v2/language/`,{params:{v:K,format:"json"}});if(k.data.items.length>0){const b=k.data.items;N(b)}}catch(k){H(k)}}))),(0,D.VS)(N=>N?[h.setTenantLanguages(N)]:[])),u=(g,v)=>g.pipe((0,T.l)(f),(0,D.VS)(N=>new Promise((H,J)=>F(void 0,null,function*(){const{tenant:{default_language:K}}=v==null?void 0:v.value;M.addDetector({name:"nonprimaryhostname",lookup(k){let b;const te=N.payload[0].language;return K!==te&&(b=K),b}});try{const k=[],b=[],te=N.payload;te.forEach(de=>{k.push(de.language),b.push(de.language.substring(0,2))}),x.Z.use(V.Z).use(M).use(w.Db).init({fallbackLng:"en",ns:["translations"],defaultNS:"translations",detection:{order:["querystring","localStorage","nonprimaryhostname","navigator","htmlTag","path"],lookupQuerystring:"lng",lookupLocalStorage:"i18nextLng",lookupFromPathIndex:0,caches:["localStorage"],excludeCacheFor:["cimode"],htmlTag:document.documentElement},react:{wait:!0,transSupportBasicHtmlNodes:!0},lowerCaseLng:!0,whitelist:b,nonExplicitWhitelist:!0,returnEmptyString:!1,load:"all",backend:{loadPath:"/locales/{{lng}}/{{ns}}.json",queryStringParams:{v:e.h()}}},()=>{const de=te.find(me=>me.language===x.Z.language)||{language:"en",name:"English",name_local:"English",bidi:!1};H(de)}),x.Z.on("languageChanged",de=>{document.documentElement.setAttribute("lang",de)})}catch(k){J(k)}}))),(0,D.VS)(N=>N?[h.setLanguage(N)]:[])),r=()=>fromActions.actions.setTenantLanguages([]),p=(0,$.l)(B,S,I,u)},828:(W,l,e)=>{"use strict";e.r(l),e.d(l,{MapActions:()=>t.Actions,mapActions:()=>Q,mapEpics:()=>Pe,mapReducer:()=>me});var t={};e.r(t),e.d(t,{av:()=>w,Sv:()=>$,Sm:()=>x,Cc:()=>X,sL:()=>se,cR:()=>h,QU:()=>P,Ky:()=>i,V1:()=>V,yu:()=>D,IC:()=>L,Hg:()=>C,mY:()=>E,ck:()=>f,PN:()=>a,lg:()=>A,HS:()=>O,E9:()=>T,yB:()=>R,xr:()=>U,WM:()=>d,q2:()=>Z,Nw:()=>Q});var c=e(18172),s=e(97779),n=e(90291);const a="UPDATE_MAP_EXPAND_STATE",d="UPDATE_STANDALONE_MAP_STATUS",A="UPDATE_NESTED_LAYER_IN_HOMEPAGE_MAP",E="UPDATE_HOMEPAGE_MAP_FULL_SCREEN_STATE",f="UPDATE_HOVERED_ITEM_ID",U="UPDATE_STANDALONE_MAP_PANEL_STATUS",h="LOAD_PLACE_PAGES_INFO",P="LOAD_SINGLE_PLACE_PAGE",O="UPDATE_PLACE_PAGES_INFO",L="UPDATE_ALL_PLACE_PAGES_INFO",i="SET_ACTIVE_PLACE_PAGE",T="UPDATE_POLYGONS",$="CLEAR_POLYGONS",D="UPDATE_ACTIVE_SCENE_SLUG",x="ClEAR_PLACE_PAGES_INFO",V="SET_POSITION",R="UPDATE_SINGLE_PLACE_PAGE",C="UPDATE_DIRECTION_INPUTS",w="CLEAR_DIRECTION_INPUTS",Z="UPDATE_TRANSPORTATION_MODE",X="LOAD_DIRECTIONS_INFO",se="LOAD_DIRECTIONS_INFO_FULFILLED",Q={updateMapExpandState:()=>(0,n.P)(a),updateStandaloneMapStatus:m=>(0,n.P)(d,m),updateNestedLayerInfoInHomepageMap:m=>(0,n.P)(A,m),updateHomepageMapFullScreenState:()=>(0,n.P)(E),updateHoveredItemId:m=>(0,n.P)(f,m),updateStandaloneMapPanelStatus:m=>(0,n.P)(U,m),loadPlacePagesInfo:m=>(0,n.P)(h,m),clearPlacePagesInfo:()=>(0,n.P)(x),loadSinglePlacePage:m=>(0,n.P)(P,m),updatePlacePagesInfo:m=>(0,n.P)(O,m),updateAllPlacePagesInfo:m=>(0,n.P)(L,m),setActivePlacePageId:m=>(0,n.P)(i,m),updatePolygons:m=>(0,n.P)(T,m),clearPolygons:()=>(0,n.P)($),updateActiveSceneSlug:m=>(0,n.P)(D,m),setPosition:m=>(0,n.P)(V,m),updateSinglePlacePage:m=>(0,n.P)(R,m),updateDirectionInputs:m=>(0,n.P)(C,m),clearDirectionInputs:()=>(0,n.P)(w),updateTransportationMode:m=>(0,n.P)(Z,m),loadDirectionsInfo:m=>(0,n.P)(X,m),loadDirectionsInfoFulfilled:m=>(0,n.P)(se,m)};var q=Object.defineProperty,ne=Object.getOwnPropertySymbols,ee=Object.prototype.hasOwnProperty,F=Object.prototype.propertyIsEnumerable,M=(m,y,G)=>y in m?q(m,y,{enumerable:!0,configurable:!0,writable:!0,value:G}):m[y]=G,B=(m,y)=>{for(var G in y||(y={}))ee.call(y,G)&&M(m,G,y[G]);if(ne)for(var G of ne(y))F.call(y,G)&&M(m,G,y[G]);return m};const S=(m=!1,y)=>{switch(y.type){case a:return!m;default:return m}},I=(m=!1,y)=>{switch(y.type){case d:return y.payload;default:return m}},u=(m=!1,y)=>{switch(y.type){case E:return!m;default:return m}},r=(m="",y)=>{switch(y.type){case A:return y.payload;default:return m}},p=(m="",y)=>{switch(y.type){case f:return y.payload;default:return m}},g=(m="stay",y)=>{switch(y.type){case U:return y.payload;default:return m}},v=(m={},y)=>(0,c.ZP)(m,G=>{switch(y.type){case O:const{id:le,features:ie,list:Oe,placePage:Ae}=y.payload;G[le]=G[le]||{};const Te=Oe==null?void 0:Oe.filter(z=>z.meta.show_in_menus);Te!=null&&Te.length&&(G[le].list=[...Te]),ie!=null&&ie.length&&(G[le].features=[...ie]),Ae&&Object.keys(Ae).length&&(G[le].placePage=B({},Ae));break;case L:Object.keys(y.payload).forEach(z=>{const{list:pe,features:he}=y.payload[z];G[z]||(G[z]={list:[],features:[]}),pe!=null&&pe.length?G[z].list=[...pe]:G[z].list||(G[z].list=[]),he!=null&&he.length?G[z].features=[...he]:G[z].features||(G[z].features=[])});break;case x:Object.keys(G).forEach(z=>{var pe,he,Ve;(pe=G[z])!=null&&pe.features&&(G[z].features=[]),(he=G[z])!=null&&he.list&&(G[z].list=[]),(Ve=G[z])!=null&&Ve.placePage&&(G[z].placePage={})});break;default:break}}),N=(m=0,y)=>{switch(y.type){case i:return y.payload;default:return m}},H=(m={type:"FeatureCollection",features:[]},y)=>{switch(y.type){case T:return B({},y.payload);case $:return B({},{type:"FeatureCollection",features:[]});default:return m}},J=(m="",y)=>{switch(y.type){case D:return y.payload;default:return m}},K=(m={center:{lng:0,lat:0},zoom:0,pitch:0,temUrl:"",id:0,detailsMenuTour:null},y)=>{switch(y.type){case V:return B({},y.payload);default:return m}},k=(m={},y)=>{switch(y.type){case R:return B({},y.payload);default:return m}},b=(m={start:{input:"",hasFocus:!1},end:{input:"",hasFocus:!1}},y)=>(0,c.ZP)(m,G=>{switch(y.type){case C:const{start:le,end:ie}=y.payload;le&&(G.start=Object.assign({},G.start,le)),ie&&(G.end=Object.assign({},G.end,ie));break;case w:G.start={input:"",hasFocus:!1},G.end={input:"",hasFocus:!1};break;default:break}}),te=(m="walking",y)=>{switch(y.type){case Z:return y.payload;default:return m}},de=(m={},y)=>{switch(y.type){case se:return y.payload;default:return m}},me=(0,s.UY)({isMapExpanded:S,isStandaloneMapMode:I,isHomepageMapFullScreenMode:u,nestedLayerInfoInHomepageMap:r,hoveredItemId:p,standaloneMapPanelStatus:g,placePagesInfo:v,activePlacePageId:N,polygons:H,activeSceneSlug:J,position:K,singlePlacePage:k,directionInputs:b,transportationMode:te,directionsInfo:de});var Le=e(35309),Me=e(57474),Ne=e(47746),ve=e(55709),Ue=e(27374),fe=e(96486),Se=e(64311),ye=e.n(Se),Ie=(m,y,G)=>new Promise((le,ie)=>{var Oe=z=>{try{Te(G.next(z))}catch(pe){ie(pe)}},Ae=z=>{try{Te(G.throw(z))}catch(pe){ie(pe)}},Te=z=>z.done?le(z.value):Promise.resolve(z.value).then(Oe,Ae);Te((G=G.apply(m,y)).next())});const De="pk.eyJ1IjoiYmV5b25kbWVkaWEiLCJhIjoiY2s4a200dXl5MDNkbzNncXN4YWx4ZjY1diJ9.iy2zJUq3TldGY9lbaPYXHg",Re=(m,y)=>m.pipe((0,Le.l)(h),(0,Ne.zg)(G=>new Promise((le,ie)=>Ie(void 0,null,function*(){const{site:Oe,language:Ae,tenant:{version_hash:Te}}=y.value,{id:z}=G.payload;try{const pe=yield(0,Ue.Yi)(Oe,Ae,{v:Te,child_of:z,limit:100});le({id:z,list:pe.data.items})}catch(pe){ie(pe)}}))),(0,ve.U)(G=>Q.updatePlacePagesInfo(G))),Ge=(m,y)=>m.pipe((0,Le.l)(P),(0,Ne.zg)(G=>new Promise((le,ie)=>Ie(void 0,null,function*(){const{site:Oe,language:Ae,tenant:{version_hash:Te}}=y.value,{id:z,pathSlug:pe}=G.payload;try{const he=yield(0,Ue.pG)(Oe,Ae,{v:Te,html_path:pe},z);le({id:he.data.id,placePage:he.data})}catch(he){ie(he)}}))),(0,ve.U)(G=>Q.updatePlacePagesInfo(G))),o=(m,y)=>m.pipe((0,Le.l)(X,w),(0,Ne.zg)(G=>new Promise((le,ie)=>Ie(void 0,null,function*(){var Oe,Ae;const{directionInputs:Te,transportationMode:z,directionsInfo:pe}=y.value.map,he=(Oe=Te.start)==null?void 0:Oe.input,Ve=(Ae=Te.end)==null?void 0:Ae.input;if((0,fe.isEmpty)(G.payload))le({});else{const{start:Je,end:ke,isReset:qe}=G.payload;if(he&&Ve)try{const He=yield fetch(`https://api.mapbox.com/directions/v5/mapbox/${z}/${Je[0]},${Je[1]};${ke[0]},${ke[1]}?steps=true&overview=full&geometries=polyline&access_token=${De}`,{method:"GET"}),$e=yield He.json(),et={status:He.status,title:$e.code,message:$e.message},Be=qe?{}:(0,fe.cloneDeep)(pe);if("routes"in $e){const tt=$e.routes[0],{geometry:nt,duration:st,legs:at}=tt,ot=ye().toGeoJSON(nt),{coordinates:rt}=ot;Be[z]={coordinates:rt,duration:st,steps:at[0].steps,error:{}}}else Be[z]={coordinates:[],duration:0,steps:[],error:et};le(Be)}catch(He){ie(He)}}}))),(0,ve.U)(G=>Q.loadDirectionsInfoFulfilled(G))),Pe=(0,Me.l)(Re,Ge,o)},83335:(W,l,e)=>{"use strict";e.d(l,{Nw:()=>d,gX:()=>c,om:()=>s});var t=e(90291);const c="GET_TOUR_GROUP_PAGES",s="GET_TOUR_GROUP_PAGES_FULFILLED",n="GET_TOUR_HOME_PAGE_DATA",a="GET_TOUR_HOME_PAGE_DATA_FULFILLED",d={getTourGroupPages:()=>(0,t.P)(c),getTourGroupPagesFulfilled:A=>(0,t.P)(s,A),getTourHomePageData:()=>(0,t.P)(n),getTourHomePageDataFulfilled:A=>(0,t.P)(a,A)}},71453:(W,l,e)=>{"use strict";e.r(l),e.d(l,{SceneRotationActions:()=>t.Actions,sceneRotationActions:()=>d,sceneRotationReducer:()=>f});var t={};e.r(t),e.d(t,{qk:()=>n,Nw:()=>d});var c=e(18172),s=e(90291);const n="TOGGLE_SCENE_ROTATION",a="TOGGLE_SCENE_ROTATION_OFF",d={toggleSceneRotation:()=>(0,s.P)(n)},A={isSceneRotating:!1},f=(U=A,h)=>(0,c.ZP)(U,P=>{switch(h.type){case n:P.isSceneRotating=!P.isSceneRotating;break;default:break}})},32958:(W,l,e)=>{"use strict";e.r(l),e.d(l,{IndicatorsActions:()=>t.Actions,indicatorsActions:()=>a,indicatorsReducer:()=>O});var t={};e.r(t),e.d(t,{M:()=>n,N:()=>a});var c=e(18172),s=e(90291);const n="UPDATE_SCENE_INDICATORS_VISITED_STATUS",a={updateSceneIndicatorsVisitedStatus:L=>(0,s.P)(n,L)};var d=Object.defineProperty,A=Object.getOwnPropertySymbols,E=Object.prototype.hasOwnProperty,f=Object.prototype.propertyIsEnumerable,U=(L,i,T)=>i in L?d(L,i,{enumerable:!0,configurable:!0,writable:!0,value:T}):L[i]=T,h=(L,i)=>{for(var T in i||(i={}))E.call(i,T)&&U(L,T,i[T]);if(A)for(var T of A(i))f.call(i,T)&&U(L,T,i[T]);return L};const O=(L={},i)=>(0,c.ZP)(L,T=>{switch(i.type){case n:const{sceneId:$,indicatorsVisitedStatus:D}=i.payload;T[$]=h({},D);break;default:break}})},64913:(W,l,e)=>{"use strict";e.d(l,{Om:()=>A,Q8:()=>d,ZP:()=>a});var t=e(27374);const c="LOAD_SCENES",s="LOAD_STANDALONE_SCENE",n=[];function a(E=n,f){switch(f.type){case c:return f.payload;default:return E}}function d(E,f,U,h,P){return O=>{O({type:"LOAD_SCENES_2",payload:{siteName:E,tour:f}});const{version_hash:L}=P;if(f.scenes){const i=[];return f.scenes.forEach(T=>{h&&i.push((0,t.I8)(E,T.scene.meta&&T.scene.meta.slug,U,{v:h?L+Date.now():L,content_type:T.scene.meta&&T.scene.meta.type.toLowerCase(),token:h})),!h&&T.scene.meta&&T.scene.meta.live&&i.push((0,t.I8)(E,T.scene.meta.slug,U,{v:L}))}),Promise.all(i).then(T=>(O({type:c,payload:T}),T))}return Promise.resolve([])}}function A(E,f,U,h){return P=>{P({type:s,payload:{siteName:E,sceneSlug:f,contentType:U,token:h}})}}},29212:(W,l,e)=>{"use strict";e.d(l,{DP:()=>a,Fp:()=>P,Nw:()=>L,Rm:()=>c,Sp:()=>s,UD:()=>d,Yz:()=>U,c4:()=>h,eN:()=>f,h$:()=>E,oX:()=>O,pV:()=>n,rU:()=>A});var t=e(90291);const c="CHANGE_STANDALONE_SCENE_STATUS",s="LOAD_STANDALONE_SCENE",n="LOAD_SCENES_2",a="LOAD_ALL_SCENES",d="LOAD_SCENES_FULFILLED",A="START_VISITING_SCENE",E="FINISH_VISITING_SCENE",f="SET_CURRENT_SCENE",U="TOGGLE_STACK_ON_SCENE",h="SET_SCENES_WITH_SELECTED_LABELS",P="UPDATE_SCENES_LIST_IN_CURRENT_TOUR",O="CHANGE_SCENE_CLICKED_LOCATION",L={changeStandaloneSceneStatus:()=>(0,t.P)(c),loadStandaloneScene:i=>(0,t.P)(s,i),loadScenes:i=>(0,t.P)(n,i),loadAllScenes:()=>(0,t.P)(a),loadScenesFulfilled:i=>(0,t.P)(d,i),startVisitingScene:i=>(0,t.P)(A,i),finishVisitingScene:i=>(0,t.P)(E,i),setCurrentScene:i=>(0,t.P)(f,i),toggleStackOnScene:i=>(0,t.P)(U,i),setScenesWithSelectedLabels:i=>(0,t.P)(h,i),updateScenesListInCurrentTour:i=>(0,t.P)(P,i),setSceneClickedFromAllTab:i=>(0,t.P)(O,i)}},99535:(W,l,e)=>{"use strict";e.r(l),e.d(l,{SceneActions:()=>s.Actions,finishVisitingSceneEpic:()=>Q,loadStandaloneSceneEpic:()=>q,sceneActions:()=>s.Nw,sceneEpics:()=>ee,scenesReducer:()=>$});var t=e(18172),c=e(97779),s=e(29212),n=e(78023),a=Object.defineProperty,d=Object.getOwnPropertySymbols,A=Object.prototype.hasOwnProperty,E=Object.prototype.propertyIsEnumerable,f=(F,M,B)=>M in F?a(F,M,{enumerable:!0,configurable:!0,writable:!0,value:B}):F[M]=B,U=(F,M)=>{for(var B in M||(M={}))A.call(M,B)&&f(F,B,M[B]);if(d)for(var B of d(M))E.call(M,B)&&f(F,B,M[B]);return F};const h=(F=[],M)=>(0,t.ZP)(F,B=>{switch(M.type){case s.Yz:const S=B.findIndex(({id:r})=>r===M.payload.id);B[S].isExpanded=!B[S].isExpanded;break;case s.UD:M.payload.forEach(r=>{const p=F.findIndex(H=>H.id===r.id),g=p>=0?F[p]:void 0,v=U(U({},g),r);g&&g.thumbnailUrl?v.thumbnailUrl=g.thumbnailUrl:v.thumbnailUrl=r.thumbnailUrl,(H=>(v.visitedStatus||(H.visitedStatus=n.uj.UNVISITED),!0))(v)&&(p>=0?B[p]=v:B.push(v))});break;case s.rU:const I=B.find(r=>r.id===M.payload);I&&I.visitedStatus===n.uj.UNVISITED&&(I.visitedStatus=n.uj.VISITING);break;case s.h$:const u=B.find(r=>r.id===M.payload);u&&(u.visitedStatus=n.uj.VISITED);break;default:break}}),P=(F=null,M)=>{switch(M.type){case s.eN:return typeof M.payload!="undefined"?M.payload:F;default:return F}},O=(F=!1,M)=>{switch(M.type){case s.Rm:return!0;default:return F}},L=(F={},M)=>{switch(M.type){case s.c4:return U(U({},F),M.payload);default:return F}},i=(F=[],M)=>{switch(M.type){case s.Fp:return[...M.payload];default:return F}},T=(F=!1,M)=>{switch(M.type){case s.oX:return M.payload;default:return F}},$=(0,c.UY)({currentScene:P,scenes:h,standaloneSceneStatus:O,allScenesWithSelectedLabels:L,isSceneClickedFromAllTab:T,scenesListInCurrentTour:i});var D=e(35309),x=e(57474),V=e(47746),R=e(55709),C=e(96996),w=e(2909),Z=e(7685),X=(F,M,B)=>new Promise((S,I)=>{var u=g=>{try{p(B.next(g))}catch(v){I(v)}},r=g=>{try{p(B.throw(g))}catch(v){I(v)}},p=g=>g.done?S(g.value):Promise.resolve(g.value).then(u,r);p((B=B.apply(F,M)).next())});const se=e(17563),Q=(F,M)=>F.pipe((0,D.l)(s.h$),(0,V.VS)(B=>new Promise(S=>X(void 0,null,function*(){const I=M.value,u=(0,C.scenesSelector)(I).find(r=>r.id===B.payload);S(s.Nw.setCurrentScene(u))})))),q=(F,M)=>F.pipe((0,D.l)(s.Sp),(0,V.VS)(B=>new Promise((S,I)=>X(void 0,null,function*(){const{language:u,tenant:{version_hash:r}}=M.value,{siteName:p,sceneSlug:g,contentType:v,token:N}=B.payload,H=yield(0,Z.I8)(p,g,u.currentLanguage.language,{v:N?r+Date.now():r,content_type:v,token:N});S(s.Nw.setCurrentScene(H))})))),ne=(F,M,B)=>F.pipe((0,D.l)(s.pV,s.DP),(0,V.VS)(S=>new Promise((I,u)=>X(void 0,null,function*(){const r=[];if(S.type===s.pV){const{siteName:p,tour:g}=S.payload,v=M.value;g.scenes&&(g.scenes.forEach(N=>{r.push(N.scene)}),I({action:S,scenes:r}))}else if(S.type===s.DP){const{language:p,site:g,scenes2:{standaloneSceneStatus:v},tenant:{version_hash:N}}=M.value,{token:H,tmstmp:J}=se.parse(window.location.search);v||new Promise((K,k)=>X(this,null,function*(){try{const b=yield w.Z.get(`${(0,Z.Uk)(g)}scenes/`,{params:{v:H?N+Date.now():N,format:"json",limit:1e3,token:H},headers:{"Accept-Language":p.currentLanguage.language}});K(b.data.items)}catch(b){k(b)}})).then(K=>{K.forEach(k=>{r.push(k)}),I({action:S,scenes:r})})}}))),(0,R.U)(S=>{const{action:I,scenes:u}=S,{getThumbUrl:r}=B;return u.map(p=>{const{id:g,title:v,get_thumbnail:N,meta:{slug:H,type:J,live:K},labels:k}=p,{site:b}=M.value,te=N&&r(b,N);return{id:g,title:v,thumbnailUrl:te,slug:H,labels:k,type:J,subSceneIDs:[],isExpanded:!1,live:K}})}),(0,R.U)(S=>s.Nw.loadScenesFulfilled(S))),ee=(0,x.l)(ne)},26696:(W,l,e)=>{"use strict";e.r(l),e.d(l,{SiteActions:()=>t.Actions,siteActions:()=>n,siteReducer:()=>A});var t={};e.r(t),e.d(t,{B:()=>s,N:()=>n});var c=e(90291);const s="SET_SITE_NAME",n={setSiteName:E=>(0,c.P)(s,E)},a="siteName",A=(E=a,f)=>{switch(f.type){case s:return f.payload;default:return E}}},56878:(W,l,e)=>{"use strict";e.r(l),e.d(l,{TenantActions:()=>t.Actions,tenantActions:()=>a,tenantReducer:()=>L});var t={};e.r(t),e.d(t,{U:()=>n,N:()=>a});var c=e(18172),s=e(90291);const n="UPDATE_SITENAME_AND_LNG_AND_VERSION_HASH",a={updateSiteNameAndLngAndVersionHash:i=>(0,s.P)(n,i)};var d=Object.defineProperty,A=Object.getOwnPropertySymbols,E=Object.prototype.hasOwnProperty,f=Object.prototype.propertyIsEnumerable,U=(i,T,$)=>T in i?d(i,T,{enumerable:!0,configurable:!0,writable:!0,value:$}):i[T]=$,h=(i,T)=>{for(var $ in T||(T={}))E.call(T,$)&&U(i,$,T[$]);if(A)for(var $ of A(T))f.call(T,$)&&U(i,$,T[$]);return i};const P={default_language:"",schema_name:"",version_hash:""},L=(i=P,T)=>(0,c.ZP)(i,$=>{switch(T.type){case n:$=h(h({},i),T.payload);break;default:break}return $})},20590:(W,l,e)=>{"use strict";e.d(l,{Ws:()=>f,ZP:()=>E});var t=e(27374),c=e(57295),s=e(78001),n=e(21318),a=(U,h,P)=>new Promise((O,L)=>{var i=D=>{try{$(P.next(D))}catch(x){L(x)}},T=D=>{try{$(P.throw(D))}catch(x){L(x)}},$=D=>D.done?O(D.value):Promise.resolve(D.value).then(i,T);$((P=P.apply(U,h)).next())});const d="LOAD_TOUR",A={};function E(U=A,h){switch(h.type){case d:return h.payload;default:return U}}function f(U,h,P,O,L){return i=>a(this,null,function*(){return new Promise(T=>a(this,null,function*(){i({type:"LOAD_TOUR_2",payload:{tourSlug:P,previewParams:L}});const{version_hash:$}=U;(0,t.QU)(h,P,O,{v:L&&L.token?$+Date.now():$,content_type:L&&L.content_type,token:L&&L.token}).then(D=>D.error?(n.Tb(D.error),i({type:c.G,payload:{title:s.Z.t("page-not-found"),message:D.error.response.status,linkText:"Home",linkMessage:s.Z.t("start-from-home"),link:`/${h}`},error:!0}),T({})):(i({type:d,payload:D}),T(D)))}))})}},39476:(W,l,e)=>{"use strict";e.d(l,{Gg:()=>d,Nw:()=>A,Ub:()=>a,hk:()=>s,iR:()=>c,qN:()=>n});var t=e(90291);const c="LOAD_TOUR_2",s="LOAD_TOUR_FULFILLED",n="REFRESH_TOUR",a="REFRESH_TOUR_WITH_NEW_KEY",d="UPDATE_TOUR_EVENTS",A={loadTour:E=>(0,t.P)(c,E),loadTourFulfilled:E=>(0,t.P)(s,E),refreshTour:()=>(0,t.P)(n),refreshTourWithNewKey:E=>(0,t.P)(a,E),updateTourEvents:E=>(0,t.P)(d,E)}},30871:(W,l,e)=>{"use strict";e.r(l),e.d(l,{LOAD_TOUR_FULFILLED:()=>n.hk,TourActions:()=>n.Actions,tourActions:()=>n.Nw,tourEpics:()=>x,tourReducer:()=>U});var t=e(55877),c=e(97779),s=e(18172),n=e(39476);const a={id:-1,title:"",sceneIds:[],slug:"",hero_image_url:"",thumbnailUrls:{portrait:"",landscape:"",square:""},splash_color:[],search_description:"",description:"",is_hidden_from_universal_menu:!1},d=(V=a,R)=>{switch(R.type){case n.hk:return R.payload;default:return V}},A=(V={},R)=>(0,s.ZP)(V,C=>{switch(R.type){case n.Gg:const{tourId:w,event:Z}=R.payload;Z==="tour-start"?C[w]={tour_start:!0}:C[w]=Object.assign({},C[w],{tour_complete:!0});break;default:break}}),E=(0,t.v4)(),f=(V=E,R)=>{switch(R.type){case n.Ub:return R.payload;default:return V}},U=(0,c.UY)({tour:d,tourKey:f,tourEvents:A});var h=e(35309),P=e(57474),O=e(70540),L=e(47746),i=e(55709),T=e(7685);const $=(V,R)=>V.pipe((0,h.l)(n.iR),(0,L.VS)(C=>{const{tourSlug:w,previewParams:Z}=C.payload,{site:X,language:se,tenant:{version_hash:Q}}=R.value;let q="";return Z&&Z.content_type&&Z.token?q=Q?`${(0,T.Uk)(X)}tours/${w}/?content_type=${Z.content_type}&token=${Z.token}&v=${Q}${Date.now()}`:`${(0,T.Uk)(X)}tours/${w}/?content_type=${Z.content_type}&token=${Z.token}&v=${Date.now()}`:q=Q?`${(0,T.Uk)(X)}tours/${w}/?v=${Q}`:`${(0,T.Uk)(X)}tours/${w}`,O.h.getJSON(q,{"Accept-Language":se.currentLanguage.language,Accept:"application/json, text/plain, */*"}).pipe((0,i.U)(ne=>{const{scenes:ee,id:F,title:M,meta:{slug:B,search_description:S},description:I,hide_from_universal_menu:u,splash_color:r,thumbnail_portrait:p,thumbnail_landscape:g,thumbnail_square:v}=ne,N=r?r.hls_decimal:void 0;return{id:F,title:M,slug:B,heroImageUrl:"",thumbnailUrls:{portrait:p?p.url:"",landscape:g?g.url:"",square:v?v.url:""},splashColor:N?[N[0]*360,N[1]*100,N[2]*100]:[196,100,12],search_description:S,description:I,sceneIds:ee&&ee.map(H=>H.scene.id),isHiddenFromUniversalMenu:u}}),(0,i.U)(ne=>n.Nw.loadTourFulfilled(ne)))})),D=(V,R)=>V.pipe((0,h.l)(n.qN),(0,i.U)(()=>n.Nw.refreshTourWithNewKey((0,t.v4)()))),x=(0,P.l)($,D)},51908:(W,l,e)=>{"use strict";e.r(l),e.d(l,{UnitActions:()=>t.Actions,unitActions:()=>h,unitReducer:()=>V});var t={};e.r(t),e.d(t,{y6:()=>f,oR:()=>n,Nw:()=>h});var c=e(97779),s=e(90291);const n="SET_UNIT",a="CHANGE_UNIT",d="SET_UNIT_INTERNAL",A="SET_UNIT_INTERNAL_FULFILLED",E="FETCH_TENANT_UNIT",f="SET_TENANT_UNIT",U="SET_UNIT_DIRECTION",h={fetchTenantUnit:()=>(0,s.P)(E),setUnit:R=>(0,s.P)(n,R),setTenantUnit:R=>(0,s.P)(f,R),changeUnit:R=>(0,s.P)(a,R),setUnitInternal:R=>(0,s.P)(d,R),setUnitInternalFulfilled:()=>(0,s.P)(A)};var P=Object.defineProperty,O=Object.getOwnPropertySymbols,L=Object.prototype.hasOwnProperty,i=Object.prototype.propertyIsEnumerable,T=(R,C,w)=>C in R?P(R,C,{enumerable:!0,configurable:!0,writable:!0,value:w}):R[C]=w,$=(R,C)=>{for(var w in C||(C={}))L.call(C,w)&&T(R,w,C[w]);if(O)for(var w of O(C))i.call(C,w)&&T(R,w,C[w]);return R};const D=(R={unit:"metric",name:"Metric"},C)=>{switch(C.type){case n:return $({},C.payload);default:return R}},x=(R=[{unit:"metric",name:"Metric"},{unit:"imperial",name:"Imperial"}],C)=>{switch(C.type){case f:return C.payload;default:return R}},V=(0,c.UY)({currentUnit:D,units:x})},2626:(W,l,e)=>{"use strict";e.r(l),e.d(l,{SET_CURRENT_UNIVERSAL_MENU:()=>n,UniversalMenuActions:()=>t.Actions,universalMenuActions:()=>A,universalMenuReducer:()=>h});var t={};e.r(t),e.d(t,{hf:()=>n,rN:()=>a,Xw:()=>d,Nw:()=>A});var c=e(97779),s=e(90291);const n="SET_CURRENT_UNIVERSAL_MENU",a="SET_UNIVERSAL_MENU_OPEN_STATE",d="UPDATE_NESTED_LAYER_IN_UNIVERSAL_MENU",A={setCurrentUniversalMenu:P=>(0,s.P)(n,P),setUniversalMenuOpenState:P=>(0,s.P)(a,P),updateNestedLayerInfoInUniversalMenu:P=>(0,s.P)(d,P)},E=(P="CURRENT_TOUR",O)=>{switch(O.type){case n:return O.payload;default:return P}},f=(P=!1,O)=>{switch(O.type){case a:return O.payload;default:return P}},U=(P="",O)=>{switch(O.type){case d:return O.payload;default:return P}},h=(0,c.UY)({isUniversalMenuOpen:f,currentUniversalMenuTab:E,nestedLayerInfo:U})},87020:(W,l,e)=>{"use strict";e.r(l),e.d(l,{SupportsWebPActions:()=>t.Actions,supportsWebPActions:()=>n,supportsWebPReducer:()=>A});var t={};e.r(t),e.d(t,{$:()=>s,N:()=>n});var c=e(90291);const s="SUPPORTS_WEBP",n={setSupportsWebP:E=>(0,c.P)(s,E)},a=!1,A=(E=a,f)=>{switch(f.type){case s:return f.payload;default:return E}}},60416:(W,l,e)=>{"use strict";e.d(l,{Z:()=>P});var t=e(15575),c=e(49089),s=e(2876),n=Object.defineProperty,a=Object.getOwnPropertySymbols,d=Object.prototype.hasOwnProperty,A=Object.prototype.propertyIsEnumerable,E=(O,L,i)=>L in O?n(O,L,{enumerable:!0,configurable:!0,writable:!0,value:i}):O[L]=i,f=(O,L)=>{for(var i in L||(L={}))d.call(L,i)&&E(O,i,L[i]);if(a)for(var i of a(L))A.call(L,i)&&E(O,i,L[i]);return O};const{trackEvent:U}=(0,s.Z)({apiHost:"https://p.usecircuit.com",domain:`${window.location.hostname},all.circuit`}),P=O=>{const L=Object.assign({},O);L.event_category=L.category,L.event_label=L.label,delete L.action,delete L.category,delete L.label,c.ZP.event(O.action,f({},L)),t.ZP.event(f({},O),["clientTracker"]);const i=Object.assign({},O);delete i.action,U(O.action,{props:f({},i)})}},2909:(W,l,e)=>{"use strict";e.d(l,{Z:()=>s});var t=e(9669),c=e.n(t);c().defaults.xsrfHeaderName="X-CSRFToken",c().defaults.xsrfCookieName="csrftoken",c().defaults.withCredentials=!0;const s=c()},27374:(W,l,e)=>{"use strict";e.d(l,{H0:()=>V,Mk:()=>B,Uk:()=>E,pN:()=>U,V_:()=>x,uR:()=>ee,HN:()=>$,Yi:()=>O,Eu:()=>i,bO:()=>T,I8:()=>D,pG:()=>L,HE:()=>A,mu:()=>w,QU:()=>f,sc:()=>Q,Bz:()=>ne});var t=e(2909);class c extends Error{constructor(I){super(I.message),Object.setPrototypeOf(this,c.prototype),this.payload_=I.payload,this.statusCode_=I.statusCode}get payload(){return this.payload_}get statusCode(){return this.statusCode_}}var s=e(21318),n=(S,I,u)=>new Promise((r,p)=>{var g=H=>{try{N(u.next(H))}catch(J){p(J)}},v=H=>{try{N(u.throw(H))}catch(J){p(J)}},N=H=>H.done?r(H.value):Promise.resolve(H.value).then(g,v);N((u=u.apply(S,I)).next())});const a="madewithcircuit.com",d="/api/v2/",A=S=>n(void 0,null,function*(){let I="https://";if((a==="usecircuit.com"||a==="madewithcircuit.com")&&(I+="boreal."),I+=`${a}/api/switchboard/${S}/`,S){const u=yield t.Z.get(I);return u.data.error&&S!=="app.madewithcircuit.com"&&s.Tb(new Error("No tenant found for hostname"),{tags:{hostname:S}}),u.data}return""});function E(S){return`https://${S}.${a}/api/v2/`}function f(S,I,u,r={}){const p=`https://${S}.${a}${d}tours/${I}/`;return t.Z.get(p,{xsrfHeaderName:"X-CSRFToken",xsrfCookieName:"csrftoken",params:r,headers:{"Accept-Language":u}}).then(v=>v.data).catch(v=>({error:v}))}const U=(S,I,...u)=>n(void 0,[S,I,...u],function*(r,p,g={}){const v=`https://${r}.${a}${d}maps/wayfinding/places/`;return(yield t.Z.get(v,{params:g,headers:{"Accept-Language":p}})).data}),h=(S,I,...u)=>n(void 0,[S,I,...u],function*(r,p,g={}){const v=`https://${r}.${a}${d}maps/campus-outlines/`;return(yield axios.get(v,{params:g,headers:{"Accept-Language":p}})).data}),P=(S,I,...u)=>n(void 0,[S,I,...u],function*(r,p,g={}){const v=`https://${r}.${a}${d}maps/campus-buildings/`;return(yield axios.get(v,{params:g,headers:{"Accept-Language":p}})).data}),O=(S,I,...u)=>n(void 0,[S,I,...u],function*(r,p,g={}){const v=`https://${r}.${a}${d}place-pages/`;return yield t.Z.get(v,{params:g,headers:{"Accept-Language":p}})}),L=(S,I,...u)=>n(void 0,[S,I,...u],function*(r,p,g={},v=0){const N=v?`https://${r}.${a}${d}place-pages/${v}/`:`https://${r}.${a}${d}place-pages/find/`;return yield t.Z.get(N,{params:g,headers:{"Accept-Language":p}})}),i=S=>n(void 0,[S],function*({siteName:I,language:u,polygonId:r="",params:p={}}){const g=`https://${I}.${a}${d}maps/places/points/${r}`;return yield t.Z.get(g,{params:p,headers:{"Accept-Language":u}})}),T=S=>n(void 0,[S],function*({siteName:I,language:u,params:r={}}){const p=`https://${I}.${a}${d}maps/places/polygons/`;return yield t.Z.get(p,{params:r,headers:{"Accept-Language":u}})}),$=S=>n(void 0,[S],function*({siteName:I,language:u,params:r={}}){const p=`https://${I}.${a}${d}maps/osm/buildings`;return yield t.Z.get(p,{params:r,headers:{"Accept-Language":u}})});function D(S,I,u,r={}){return t.Z.get(`https://${S}.${a}${d}scene/${I}/`,{params:r,headers:{"Accept-Language":u}}).then(p=>p.data)}const x=(S,I)=>I&&I.substr(0,4)==="http"?I:`https://${S}.${a}${I}`,V=S=>{if(!document.getElementById("fontawesome_main")&&!document.getElementById("fontawesome_solid")){const I=document.createElement("script");I.src=`https://${S}.${a}/fontawesome.js`,I.id="fontawesome_main";const u=document.createElement("script");u.src=`https://${S}.${a}/solid.js`,u.id="fontawesome_solid",document.body.appendChild(I),document.body.appendChild(u)}},R=S=>!window.innerWidth||typeof window.innerWidth!="number"||window.innerWidth<=1200?S.panorama_image_webp&&S.panorama_image_webp.medium?S.panorama_image_webp.medium.url:"":S.panorama_image_webp&&S.panorama_image_webp.high?S.panorama_image_webp.high.url:"",C=S=>!window.innerWidth||typeof window.innerWidth!="number"||window.innerWidth<=1200?S.panorama_image_jpeg&&S.panorama_image_jpeg.medium?S.panorama_image_jpeg.medium.url:"":S.panorama_image_jpeg&&S.panorama_image_jpeg.high?S.panorama_image_jpeg.high.url:"";function w(S,I){return I&&I.substr(0,4)==="http"?I:`https://${S}.${a}${I}`}function Z(S){return(I,u)=>{const r=S(u);return r&&String(r).slice(0,4)==="http"?r:`https://${I}.${a}${S(u)}`}}const X=S=>S.get_thumbnail,Q=Z(S=>S),q=Z(X),ne=Z(R),ee=Z(C),F=S=>S.reduce((I,u)=>{if(typeof u.value=="object"){const r=u.value.reduce((p,g)=>g?[...p,[u.name,String(g)]]:p,[]);return[...I,...r]}return[...I,[u.name,String(u.value)]]},[]),M=(S,I)=>{const u=new FormData;return u.append("form_id",I.form_id),u.append("form_reference",I.form_reference),S.forEach(r=>{u.append(r[0],r[1])}),u};function B(S,I,u){return n(this,null,function*(){const r=F(S),p=M(r,I),g={method:"POST",withCredentials:!0,headers:{"X-CSRFToken":I.csrf,"X-Requested-With":"XMLHttpRequest","Accept-Language":u}},v=yield t.Z.post(`${I.form_action}/submissions/`,p,g);if(v.data.errors)throw new c({statusCode:400,payload:v.data.errors,message:v.data.message});return v.data})}},7685:(W,l,e)=>{"use strict";e.d(l,{Uk:()=>t.Uk,V_:()=>t.V_,Yi:()=>t.Yi,Eu:()=>t.Eu,I8:()=>t.I8,mu:()=>t.mu,QU:()=>t.QU});var t=e(27374);const c={"en-US":{PROCEED:"Proceed",NEXT:"Next",TOURMENU:"Tour Menu",YOUAREHERE:"You Are Here"},"fr-CA":{PROCEED:"Proc\xE9der",NEXT:"Prochain",TOURMENU:"Menu Tour",YOUAREHERE:"Tu es l\xE0"}};function s(n,a){const d=c[n]?n:"en-US";return c[d][a]}},30155:(W,l,e)=>{"use strict";e.d(l,{MT:()=>$t,wl:()=>xt});var t={};e.r(t),e.d(t,{K5:()=>X,QW:()=>se,Nw:()=>Q});var c={};e.r(c),e.d(c,{GET_TOURS_FULFILLED:()=>se,ToursActions:()=>t.Actions,toursActions:()=>Q,toursEpics:()=>B,toursReducer:()=>ne});var s={};e.r(s),e.d(s,{PageActions:()=>$.Actions,pageActions:()=>$.Nw,pageEpics:()=>p,pagesReducer:()=>x});var n={};e.r(n),e.d(n,{BrandActions:()=>ve.Actions,brandingActions:()=>ve.Nw,brandingEpic:()=>Oe,brandingReducer:()=>fe});var a=e(97779),d=e(50464),A=e(53894),E=e(28500),f=e(89233),U=e(96381),h=e(7685),P=e(57474),O=e(32458),L=e(99535),i=e(30871),T=e(18172),$=e(83335);const x=(ce=[],ae)=>(0,T.ZP)(ce,j=>{switch(ae.type){case $.om:j.length=0,j.push(...ae.payload);break;default:}});var V=e(35309),R=e(55709),C=e(47746),w=e(2909),Z=e(90291);const X="GET_TOURS",se="GET_TOURS_FULFILLED",Q={getTours:()=>(0,Z.P)(X),getTourFulfilled:ce=>(0,Z.P)(se,ce)},ne=(ce=[],ae)=>(0,T.ZP)(ce,j=>{switch(ae.type){case se:j.length=0,j.push(...ae.payload);break;default:break}});var ee=(ce,ae,j)=>new Promise((ue,re)=>{var Ee=Y=>{try{_(j.next(Y))}catch(ge){re(ge)}},oe=Y=>{try{_(j.throw(Y))}catch(ge){re(ge)}},_=Y=>Y.done?ue(Y.value):Promise.resolve(Y.value).then(Ee,oe);_((j=j.apply(ce,ae)).next())});const F=e(17563),M=(ce,ae,j)=>ce.pipe((0,V.l)(X),(0,C.VS)(()=>new Promise((ue,re)=>ee(void 0,null,function*(){const{site:Ee,language:oe,tenant:{version_hash:_}}=ae.value;try{const Y=yield w.Z.get(`${(0,h.Uk)(Ee)}tours/`,{headers:{"accept-language":oe.currentLanguage.language},params:{v:_,fields:"*",type:"tour.TourPage",limit:150}});ue(Y.data.items)}catch(Y){re(Y)}}))),(0,R.U)(ue=>ue.map(re=>{const{scenes:Ee,id:oe,title:_,thumbnail_landscape:Y,thumbnail_square:ge,thumbnail_portrait:xe,hero_image:we,meta:{slug:je,search_description:We},description:Ze,hide_from_universal_menu:be,splash_color:Ce,starting_point:Fe,bounding_box:Ye,scenes_points:Ke,guide_audio:ze,guide_audio_enabled:Xe}=re;return{id:oe,title:_,slug:je,hero_image_url:we?we.url:"",thumbnailUrls:{portrait:xe?xe.url:"",landscape:Y?Y.url:"",square:ge?ge.url:""},splash_color:Ce?[Ce[0]*360,Ce[1]*100,Ce[2]*100]:[196,100,12],search_description:We,description:Ze,sceneIds:Ee.map(Qe=>Qe.scene.id),is_hidden_from_universal_menu:be,starting_point:Fe,bounding_box:Ye,scenes_points:Ke,guide_audio:ze,guide_audio_enabled:Xe}})),(0,R.U)(ue=>Q.getTourFulfilled(ue))),B=(0,P.l)(M);var S=(ce,ae,j)=>new Promise((ue,re)=>{var Ee=Y=>{try{_(j.next(Y))}catch(ge){re(ge)}},oe=Y=>{try{_(j.throw(Y))}catch(ge){re(ge)}},_=Y=>Y.done?ue(Y.value):Promise.resolve(Y.value).then(Ee,oe);_((j=j.apply(ce,ae)).next())});const I=e(17563),u=(ce,ae,j)=>ce.pipe((0,V.l)($.gX),(0,R.U)(()=>Q.getTours())),r=(ce,ae,j)=>ce.pipe((0,V.l)($.gX),(0,C.VS)(ue=>new Promise((re,Ee)=>S(void 0,null,function*(){const{site:oe,language:_,tenant:{version_hash:Y}}=ae.value,xe=(yield w.Z.get(`${(0,h.Uk)(oe)}pages/`,{headers:{"accept-language":_.currentLanguage.language},params:{v:Y,fields:"tours,image,depth,children,search_description,frontend_path,tour_count_descendants,bounding_box,background_video,videos_text,videos,video_auto",type:"tour.TourGroupPage",limit:100}})).data.items.map(we=>{const{id:je,meta:{slug:We,search_description:Ze},title:be,tours:Ce,image:Fe,depth:Ye,children:Ke,tour_count_descendants:ze,frontend_path:Xe,bounding_box:Qe,background_video:ct,videos_text:lt,videos:it,video_auto:ut}=we;return{id:je,slug:We,search_description:Ze,tour_count_descendants:ze,title:be,tours:Ce,imageURL:Fe&&Fe.url?(0,h.V_)(oe,Fe.url):"",depth:Ye,children:Ke,frontend_path:Xe,bounding_box:Qe,background_video:ct,videos_text:lt,videos:it,video_auto:ut}});re(xe)}))),(0,R.U)(ue=>$.Nw.getTourGroupPagesFulfilled(ue))),p=(0,P.l)(u,r);var g=e(53838),v=e(64913),N=e(20590),H=e(828),J=e(2626),K=e(64864),k=e(29309),b=e(5837),te=e(83908),de=e(71453),me=e(49197),Le=e(87477),Me=e(26696),Ne=e(10493),ve=e(17387);const fe=(ce=null,ae)=>{switch(ae.type){case ve.oe:return ae.payload;default:return ce}};var Se=e(15575),ye=e(2876),Ie=e(49089),De=e(60416),Re=e(1785),Ge=e.n(Re),o=e(50886),Pe=e(78023),m=(ce,ae,j)=>new Promise((ue,re)=>{var Ee=Y=>{try{_(j.next(Y))}catch(ge){re(ge)}},oe=Y=>{try{_(j.throw(Y))}catch(ge){re(ge)}},_=Y=>Y.done?ue(Y.value):Promise.resolve(Y.value).then(Ee,oe);_((j=j.apply(ce,ae)).next())});const y=e(17563),{enableAutoOutboundTracking:G}=(0,ye.Z)({apiHost:"https://p.circuitcdn.com",domain:`${window.location.hostname},all.circuit`}),{trackPageview:le}=(0,ye.Z)({apiHost:"https://p.circuitcdn.com",domain:`${window.location.hostname},all.circuit`}),ie=(ce,ae)=>ce.pipe((0,V.l)(ve.TI),(0,C.VS)(()=>new Promise((j,ue)=>m(void 0,null,function*(){try{const{site:re,language:Ee,tenant:{version_hash:oe}}=ae.value,_=yield w.Z.get(`https://${re}.madewithcircuit.com/api/v2/brand/`,{headers:{"accept-language":Ee.currentLanguage.language},params:{v:oe,format:"json"}});if(_.data.items.length>0){const Y=_.data.items[0];j(Y)}else j({id:-1,name:"UNKNOWN",title:"UNKNOWN",home_url:"",primary_color:{name:"UNKNOWN",hex_value:"#000000",rgb_integer:[],hls_decimal:[]},logo:{image:{url:"",width:0,height:0}},explore_tours:!0,personalization:!0,languages:[{language:"en",name:"english",name_local:"english",bidi:!1}],introduction:[],brand_ctas:[],call_to_action:[],image:{url:"",width:0,height:0},image_small:{url:"",width:0,height:0},search_description:"",tour_guide:{url:"",width:0,height:0},ga_cross_domains:[],policy_links:[],cookies_notice:[],panorama_tutorial:!0,tour_menu_tutorial:!0,mobile_guide_card_tutorial:!0,finished_tour:!0,maps:!0,maps_settings:{style:"mapbox://styles/mapbox/light-v10",center:{type:"Point",coordinates:[-79.3832,43.6532]},campus_color:"#545454",buildings_color:"#edddb6",places:!1,outdoor_directions:!1},guide_audio:!0,open_to_splash:!0,unit_system:"metric"})}catch(re){ue(re)}}))),(0,R.U)(j=>{const{id:ue,name:re,title:Ee,home_url:oe,primary_color:_,logo:Y,explore_tours:ge,languages:xe,introduction:we,brand_ctas:je,image:We,image_small:Ze,google_analytics:be,client_google_analytics:Ce,ga4_measurement_id:Fe,client_ga4_measurement_id:Ye,ga_cross_domains:Ke,google_tag_manager:ze,search_description:Xe,tour_guide:Qe,policy_links:ct,cookies_notice:lt,call_to_action:it,panorama_tutorial:ut,tour_menu_tutorial:wt,mobile_guide_card_tutorial:Bt,finished_tour:jt,maps:Wt,maps_settings:_e,guide_audio:Zt,open_to_splash:bt,unit_system:Et,personalization:mt}=j;let dt=Pe.OP.CurrentTour;dt|=ge?Pe.OP.Explore:0,dt|=mt?Pe.OP.All:0;const{site:Yt}=ae.value;return(0,o.vQ)("unit_system")||(0,o.pC)("unit_system",Et,30),(y.parse(window.location.search).placepreview||window.placepreview)&&(window.placepreview=!0,_e.places=!0),(y.parse(window.location.search).directionspreview||window.directionspreview)&&(window.placepreview=!0,window.directionspreview=!0,_e.places=!0,_e.outdoor_directions=!0),{id:ue,name:re,title:Ee,home_url:oe,color:_?_.hex_value:"#000000",logoURL:Y&&Y.image?(0,h.V_)(Yt,Y.image.url):void 0,activeMenus:dt,languages:xe,introduction:we,brand_ctas:je,image:We,image_small:Ze,google_analytics:be,client_google_analytics:Ce,ga4_measurement_id:Fe,client_ga4_measurement_id:Ye,ga_cross_domains:Ke,google_tag_manager:ze,search_description:Xe,tour_guide:Qe,policy_links:ct,cookies_notice:lt,call_to_action:it,panorama_tutorial:ut,tour_menu_tutorial:wt,mobile_guide_card_tutorial:Bt,finished_tour:jt,personalization:mt,maps:Wt,maps_settings:_e,guide_audio:Zt,open_to_splash:bt,unit_system:Et}}),(0,C.VS)(j=>[()=>{const{branding:ue,language:re}=ae.value;if(!ue){const Ee=[];j.client_google_analytics&&Ee.push("clientTracker");const oe=[];if(j.google_analytics&&oe.push({trackingId:j.google_analytics,titleCase:!1,gaOptions:{allowLinker:!!j.ga_cross_domains}}),j.client_google_analytics&&oe.push({trackingId:j.client_google_analytics,titleCase:!1,gaOptions:{name:"clientTracker"}}),!y.parse(window.location.search).token){oe.length>0&&(Se.ZP.initialize(oe),j.ga_cross_domains&&j.ga_cross_domains.length>0&&(Se.ZP.ga("require","linker"),Se.ZP.ga("linker:autoLink",j.ga_cross_domains),oe.length>0&&(Se.ZP.ga("clientTracker.require","linker"),Se.ZP.ga("clientTracker.linker:autoLink",j.ga_cross_domains))),y.parse(window.location.search).userid&&Se.ZP.set({userId:y.parse(window.location.search).userid},["clientTracker"]));const _=[];j.ga4_measurement_id&&_.push({trackingId:j.ga4_measurement_id}),j.client_ga4_measurement_id&&_.push({trackingId:j.client_ga4_measurement_id}),_.length>0&&Ie.ZP.initialize(_),setTimeout(()=>{oe.length>0&&Se.ZP.pageview(window.location.pathname,Ee),_.length>0&&Ie.ZP.send({hitType:"pageview",page:window.location.pathname}),le()},1e3)}if((0,De.Z)({category:"language",action:"initial",label:re.currentLanguage.name,nonInteraction:!0}),window.self!==window.top&&(0,De.Z)({category:"circuit-in-iFrame",action:"load-circuit-in-iFrame",nonInteraction:!0}),j.google_tag_manager){const _={gtmId:j.google_tag_manager};Ge().initialize(_)}}},ve.Nw.getBrandingFulfilled(j)])),Oe=(0,P.l)(ie);var Ae=e(73188),Te=e(17359),z=e(51908),pe=e(32958),he=e(87020),Ve=e(56878),Je=e(16621);const{toursEpics:ke,toursReducer:qe}=c,{sceneEpics:He,finishVisitingSceneEpic:$e,loadStandaloneSceneEpic:et,scenesReducer:Be}=L,{mapReducer:tt,mapEpics:nt}=H,{siteReducer:st}=Me,{errorReducer:at}=Ne,{tourEpics:ot,tourReducer:rt}=i,{pageEpics:gt,pagesReducer:St}=s,{guideCardReducer:Tt}=O,{sceneRotationReducer:At}=de,{universalMenuReducer:ht}=J,{detailsMenuReducer:Pt}=me,{finishedTourReducer:vt}=Le,{brandingEpic:ft,brandingReducer:Ot}=n,{languageReducer:Lt,languageEpic:It}=Te,{unitReducer:Nt}=z,{labelEpic:yt}=Ae,{ctaReducer:Ut}=b,{homepageReducer:Dt,homepageEpics:Rt}=k,{indicatorsReducer:Ct}=pe,{supportsWebPReducer:Mt}=he,{tenantReducer:Gt}=Ve,{ctasViewedReducer:Ft}=Je,Vt=(0,a.UY)({guideCard:Tt,sceneRotation:At,hotspots:g.ZP,scenes:v.ZP,scenes2:Be,map:tt,tour:N.ZP,currentTour:rt,tours:qe,pages:St,site:st,error:at,label:Ae.labelReducer,detailsMenuTour:Pt,universalMenu:ht,finishedTour:vt,deviceMotion:te.Ox,guideAudio:K.Jn,branding:Ot,language:Lt,unitSystem:Nt,cta:Ut,homepage:Dt,sceneIndicators:Ct,supportsWebP:Mt,tenant:Gt,ctasViewed:Ft}),Ht=(0,P.l)(He,ot,gt,ke,$e,et,ft,It,yt,Rt,nt),pt=(0,d.k)({dependencies:{getSingleDetailedScene:h.I8,getThumbUrl:h.mu,getTour:h.QU}}),$t=(ce={})=>{const ae=[A.Z,pt],j=[],ue=(0,E.Uo)({}),re=(0,a.MT)(Vt,ce,ue((0,a.md)(...ae),...j)),Ee=new f.X(Ht),oe=(..._)=>Ee.pipe((0,U.w)(Y=>Y(..._)));return pt.run(oe),re};var xt=e(96996)},96996:(W,l,e)=>{"use strict";e.r(l),e.d(l,{activeHomepageVideoSelector:()=>Ue,activePlacePageIdSelector:()=>U,activeSceneSlugSelector:()=>h,brandSelector:()=>J,ctasViewedSelector:()=>Ge,currentLanguageSelector:()=>g,currentSceneSelector:()=>s,currentUnitSelector:()=>H,currentUniversalMenuSelector:()=>X,detailsMenuSelector:()=>ee,deviceMotionSelector:()=>R,directionInputsSelector:()=>P,directionsInfoSelector:()=>L,guideCardSelector:()=>t,hasFinishedTourBeenDismissedSelector:()=>Z,homepageAnimationStatusSelector:()=>Se,hoveredItemIdSelector:()=>k,isAllTabLabelsPanelOpenSelector:()=>u,isAudioFinishedSelector:()=>Le,isAudioPlayingSelector:()=>me,isCtaOpenedSelector:()=>Ne,isCurrentLanguageUpdatedSelector:()=>v,isFinishedTourShowSelector:()=>w,isHomepageMapFullScreenModeSelector:()=>d,isLabelsPanelButtonShowSelector:()=>r,isLabelsPanelOpenSelector:()=>I,isMapExpandedSelector:()=>n,isSceneClickedFromAllTabSelector:()=>q,isStandaloneMapModeSelector:()=>a,isStandaloneSceneSelector:()=>ve,isUniversalMenuOpenSelector:()=>Q,labelsSelector:()=>M,languageSelector:()=>p,nestedLayerInfoInHomepageMapSelector:()=>A,nestedLayerInfoSelector:()=>se,ogTourSelector:()=>K,pagesSelector:()=>x,placePagesInfoSelector:()=>f,polygonsSelector:()=>b,positionSelector:()=>de,preferredAudioStatusSelector:()=>Me,sceneIndicatorsVisitedStatus:()=>De,sceneRotationSelector:()=>V,scenesListInCurrentTourSelector:()=>ne,scenesSelector:()=>c,selectedLabelsInCurrentTourSelector:()=>S,selectedLabelsSelector:()=>B,singlePlacePageSelector:()=>te,siteNameSelector:()=>F,standaloneMapPanelStatusSelector:()=>E,tenantSelector:()=>Ie,tourEventsSelector:()=>$,tourHomepageSelector:()=>fe,tourKeySelector:()=>T,tourProgressionModeSelector:()=>C,tourSelector:()=>i,toursSelector:()=>D,transportationModeSelector:()=>O,unitSelector:()=>N,versionHashSelector:()=>ye,webpSupportSelector:()=>Re});const t=o=>o.guideCard,c=o=>o.scenes2.scenes,s=o=>o.scenes2.currentScene,n=o=>o.map.isMapExpanded,a=o=>o.map.isStandaloneMapMode,d=o=>o.map.isHomepageMapFullScreenMode,A=o=>o.map.nestedLayerInfoInHomepageMap,E=o=>o.map.standaloneMapPanelStatus,f=o=>o.map.placePagesInfo,U=o=>o.map.activePlacePageId,h=o=>o.map.activeSceneSlug,P=o=>o.map.directionInputs,O=o=>o.map.transportationMode,L=o=>o.map.directionsInfo,i=o=>o.currentTour.tour,T=o=>o.currentTour.tourKey,$=o=>o.currentTour.tourEvents,D=o=>o.tours,x=o=>o.pages,V=o=>o.sceneRotation,R=o=>o.deviceMotion,C=o=>o.finishedTour.tourProgressionMode,w=o=>o.finishedTour.isFinishedTourShow,Z=o=>o.finishedTour.hasFinishedTourBeenDismissed,X=o=>o.universalMenu.currentUniversalMenuTab,se=o=>o.universalMenu.nestedLayerInfo,Q=o=>o.universalMenu.isUniversalMenuOpen,q=o=>o.scenes2.isSceneClickedFromAllTab,ne=o=>o.scenes2.scenesListInCurrentTour,ee=o=>o.detailsMenuTour,F=o=>o.site,M=o=>o.label.Labels,B=o=>o.label.selectedLabels,S=o=>o.label.selectedLabelsInCurrentTour,I=o=>o.label.labelsPanel.isLabelsPanelOpen,u=o=>o.label.labelsPanel.isAllTabLabelsPanelOpen,r=o=>o.label.labelsPanel.isLabelsPanelButtonShow,p=o=>o.language,g=o=>o.language.currentLanguage,v=o=>o.language.isCurrentLanguageUpdated,N=o=>o.unitSystem.units,H=o=>o.unitSystem.currentUnit,J=o=>o.branding,K=o=>o.tour,k=o=>o.map.hoveredItemId,b=o=>o.map.polygons,te=o=>o.map.singlePlacePage,de=o=>o.map.position,me=o=>o.guideAudio.isGuideAudioOn,Le=o=>o.guideAudio.isAudioFinished,Me=o=>o.guideAudio.preferredAudioStatus,Ne=o=>o.cta.isCtaOpened,ve=o=>o.scenes2.standaloneSceneStatus,Ue=o=>o.homepage.activeHomepageVideo,fe=o=>o.homepage.tourHomepage,Se=o=>o.homepage.animationStatus,ye=o=>o.tenant.version_hash,Ie=o=>o.tenant,De=o=>o.sceneIndicators,Re=o=>o.supportsWebP,Ge=o=>o.ctasViewed},25893:()=>{}},W=>{var l=t=>W(W.s=t);W.O(0,[532,111,633,995,903,384],()=>(l(49484),l(92689)));var e=W.O()}]);
